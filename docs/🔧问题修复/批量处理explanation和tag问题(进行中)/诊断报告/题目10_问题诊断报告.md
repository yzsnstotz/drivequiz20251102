# é¢˜ç›®10 full_pipeline é—®é¢˜è¯Šæ–­æŠ¥å‘Š

## ä¸€ã€é—®é¢˜æ‘˜è¦

**é¢˜ç›® ID**: 10  
**æ“ä½œç±»åž‹**: full_pipeline  
**æºè¯­è¨€**: zh  
**ç›®æ ‡è¯­è¨€**: ja, en  
**AI æ¨¡åž‹**: qwen2.5:3b-instruct

**å‘çŽ°çš„é—®é¢˜**:
1. âœ… **è¯·æ±‚ä½“ä¸å®Œæ•´**ï¼šè°ƒè¯•é¡µé¢æ˜¾ç¤ºçš„è¯·æ±‚ä½“ç¼ºå°‘å®Œæ•´çš„ `question` å¯¹è±¡ï¼ˆåŒ…å« prompt ç­‰ï¼‰
2. âŒ **ja å†…å®¹æ²¡æœ‰å…¥åº“**ï¼šAI è¿”å›žäº† ja ç¿»è¯‘ï¼Œä½†æœ€ç»ˆæ²¡æœ‰ä¿å­˜åˆ°æ•°æ®åº“
3. âŒ **zh explanation æ²¡æœ‰å…¥åº“**ï¼šæ•°æ®åº“ä¸­ç¼ºå°‘ zh çš„ explanationï¼ŒAI è¿”å›žäº†ä½†æ²¡æœ‰è¢«ä½¿ç”¨

---

## äºŒã€æ•°æ®æµåˆ†æž

### 2.1 AI è¯·æ±‚ä½“ï¼ˆç”¨æˆ·æä¾›ï¼‰

```json
{
  "type": "truefalse",
  "scene": "question_full_pipeline",
  "question": {
    "id": "10",
    "type": "truefalse",
    "options": null,
    "stageTag": null,
    "topicTags": [],
    "explanation": null,
    "questionText": "9. å›¾ä¸­æ ‡å¿—è¡¨ç¤ºå‰æ–¹å·¦è½¬å¼¯ã€‚",
    "correctAnswer": false,
    "licenseTypeTag": null,
    "sourceLanguage": "zh"
  },
  "sourceLanguage": "zh",
  "targetLanguage": "ja"
}
```

**é—®é¢˜**: è¿™ä¸æ˜¯å®Œæ•´çš„è¯·æ±‚ä½“ï¼Œç¼ºå°‘ `prompt` ç­‰å®Œæ•´ä¿¡æ¯ã€‚

### 2.2 AI å“åº”ï¼ˆç”¨æˆ·æä¾›ï¼‰

```json
{
  "model": "qwen2.5:3b-instruct",
  "answer": "{\n  \"source\": {\n    \"language\": \"ja\",\n    \"content\": \"å›³ä¸­ã®æ¨™è­˜ãŒå‰æ–¹å·¦æ›²ã‚’è¡¨ç¤ºã—ã¦ã„ã‚‹ã€‚\",\n    \"explanation\": \"å›³ä¸­ã®æ¨™è­˜ã¯ã€è»Šä¸¡ãŒå‰æ–¹ã«å·¦æ–¹å‘ã¸æ›²ãŒã‚‹ã®ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚ãã®ãŸã‚ã€å‰æ–¹å·¦æ›²ã‚’é¸æŠžã—ã¾ã™ã€‚\"\n  },\n  \"tags\": {...},\n  \"translations\": {\n    \"ja\": {\n      \"content\": \"å›³ä¸­ã®æ¨™è­˜ãŒå‰æ–¹å·¦æ›²ã‚’è¡¨ç¤ºã—ã¦ã„ã‚‹ã€‚\",\n      \"explanation\": \"å›³ä¸­ã®æ¨™è­˜ã¯ã€è»Šä¸¡ãŒå‰æ–¹ã«å·¦æ–¹å‘ã¸æ›²ãŒã‚‹ã®ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚ãã®ãŸã‚ã€å‰æ–¹å·¦æ›²ã‚’é¸æŠžã—ã¾ã™ã€‚\"\n    },\n    \"zh\": {\n      \"content\": \"å›¾ä¸­çš„æ ‡å¿—è¡¨ç¤ºå‰æ–¹å·¦è½¬ã€‚\",\n      \"explanation\": \"å›¾ä¸­çš„æ ‡å¿—è¡¨æ˜Žè½¦è¾†åº”å‘å·¦ä¾§è½¬å¼¯ã€‚å› æ­¤ï¼Œé€‰æ‹©å‰æ–¹å·¦è½¬ã€‚\"\n    },\n    \"en\": {\n      \"content\": \"The sign in the diagram indicates a left turn ahead.\",\n      \"explanation\": \"The sign in the diagram shows that vehicles should make a left turn ahead. Therefore, choose a left turn ahead.\"\n    }\n  }\n}",
  "duration": 34618,
  "provider": "local"
}
```

**å…³é”®å‘çŽ°**:
- âŒ `source.language` é”™è¯¯ï¼šè¿”å›ž `"ja"` è€Œä¸æ˜¯ `"zh"`
- âŒ `source.content` å’Œ `source.explanation` éƒ½æ˜¯æ—¥æ–‡ï¼Œè€Œä¸æ˜¯ä¸­æ–‡
- âœ… `translations` åŒ…å«äº† ja, zh, en ä¸‰ç§è¯­è¨€çš„ç¿»è¯‘

### 2.3 æœ€ç»ˆå…¥åº“æ•°æ®ï¼ˆç”¨æˆ·æä¾›ï¼‰

```json
{
  "content": {
    "en": "The sign in the diagram indicates a left turn ahead.",
    "zh": "9. å›¾ä¸­æ ‡å¿—è¡¨ç¤ºå‰æ–¹å·¦è½¬å¼¯ã€‚"
  },
  "stage_tag": "regular",
  "questionId": "10",
  "topic_tags": ["ä¿¡å·", "äº¤å·®ç‚¹", "å³æŠ˜"],
  "explanation": {
    "en": "The sign in the diagram shows that vehicles should make a left turn ahead. Therefore, choose a left turn ahead."
  },
  "license_tags": ["ALL", "ORDINARY"]
}
```

**å‘çŽ°**:
- âœ… zh content ä¿ç•™äº†ï¼ˆåŽŸæœ¬æ•°æ®åº“ä¸­å°±æœ‰ï¼‰
- âœ… en content æˆåŠŸå…¥åº“
- âŒ **ja content ç¼ºå¤±**
- âœ… en explanation æˆåŠŸå…¥åº“
- âŒ **zh explanation ç¼ºå¤±**

---

## ä¸‰ã€é—®é¢˜æ ¹å› åˆ†æž

### é—®é¢˜ 1ï¼šè¯·æ±‚ä½“ä¸å®Œæ•´ âœ… å·²ä¿®å¤

**æ ¹å› **: 
åœ¨æž„é€  `aiRequestDebug` æ—¶ï¼ˆ`batchProcessUtils.ts` ç¬¬ 2102-2108 è¡Œï¼‰ï¼ŒåªåŒ…å«äº†éƒ¨åˆ†å‚æ•°ï¼š

```typescript
const aiRequestDebug = {
  scene: "question_full_pipeline",
  question: aiQuestionPayload,  // âŒ è¿™åªæ˜¯å…ƒæ•°æ®ï¼Œä¸æ˜¯å®Œæ•´çš„ input
  sourceLanguage,
  targetLanguage: targetLanguages[0] || sourceLanguage,
  type,
};
```

å®žé™…å‘é€ç»™ AI çš„å‚æ•°æ›´å¤šï¼ŒåŒ…æ‹¬ `question: input`ï¼ˆé€šè¿‡ `buildQuestionFullPipelineInput` æž„å»ºï¼ŒåŒ…å« prompt ç­‰ï¼‰ã€‚

**ä¿®å¤æ–¹æ¡ˆ**: âœ… å·²ä¿®å¤
- ä½¿ç”¨å®Œæ•´çš„ `input` å¯¹è±¡
- æ·»åŠ æ‰€æœ‰ç›¸å…³å‚æ•°ï¼ˆlocale, targetLanguages ç­‰ï¼‰

```typescript
const aiRequestDebug = {
  scene: "question_full_pipeline",
  question: input, // âœ… ä½¿ç”¨å®Œæ•´çš„ inputï¼ˆåŒ…å« prompt ç­‰ï¼‰
  questionPayload: aiQuestionPayload,
  sourceLanguage,
  targetLanguage: targetLanguages[0] || sourceLanguage,
  locale: sourceLanguage,
  type,
  targetLanguages,
};
```

### é—®é¢˜ 2ï¼šja å†…å®¹æ²¡æœ‰å…¥åº“ âœ… å·²ä¿®å¤

**æ ¹å› **:
æ—¥æ–‡ä½¿ç”¨äº†å¤§é‡æ±‰å­—ï¼ˆå›³ä¸­æ¨™è­˜å‰æ–¹å·¦æ›²è¡¨ç¤ºï¼‰ï¼Œè¿™äº›å­—ç¬¦è¢« `[\u4e00-\u9fff]` åŒ¹é…ä¸ºä¸­æ–‡å­—ç¬¦ï¼Œå¯¼è‡´ä¸­æ–‡å æ¯”å¾ˆé«˜ï¼ˆ~55.6%ï¼‰ï¼Œè¢« `isChineseContent` å‡½æ•°è¯¯åˆ¤ä¸ºä¸­æ–‡ã€‚

åœ¨ `batchProcessUtils.ts` ç¬¬ 2444-2448 è¡Œï¼š

```typescript
if (lang === "ja" && isContentChinese) {
  console.warn(
    `[processFullPipelineBatch] [Q${question.id}] âš ï¸ ç›®æ ‡è¯­è¨€ä¸º jaï¼Œä½†ç¿»è¯‘å†…å®¹æ˜¯ä¸­æ–‡ï¼Œè·³è¿‡`,
  );
  continue;
}
```

**æ•°æ®åˆ†æž**:
```
ja content: "å›³ä¸­ã®æ¨™è­˜ãŒå‰æ–¹å·¦æ›²ã‚’è¡¨ç¤ºã—ã¦ã„ã‚‹ã€‚"
- æ±‰å­—æ•°é‡: 10 ä¸ªï¼ˆå›³ä¸­æ¨™è­˜å‰æ–¹å·¦æ›²è¡¨ç¤ºï¼‰
- æ€»å­—ç¬¦æ•°: ~18 ä¸ª
- ä¸­æ–‡å æ¯”: 10/18 = 55.6%
- è‹±æ–‡å æ¯”: 0%
- åˆ¤å®šç»“æžœ: chineseRatio > 0.2 && englishRatio < 0.3 â†’ trueï¼ˆè¯¯åˆ¤ä¸ºä¸­æ–‡ï¼‰
```

**ä¿®å¤æ–¹æ¡ˆ**: âœ… å·²ä¿®å¤
æ”¹è¿› `isChineseContent` å‡½æ•°ï¼Œæ£€æµ‹æ—¥æ–‡å‡åï¼ˆå¹³å‡åã€ç‰‡å‡åï¼‰æ¥åŒºåˆ†ä¸­æ–‡å’Œæ—¥æ–‡ï¼š

```typescript
export function isChineseContent(text: string): boolean {
  const { englishRatio, chineseRatio } = analyzeTextLanguage(text);
  
  // ðŸ“Š æ”¹è¿›ï¼šæ£€æµ‹æ—¥æ–‡å‡åæ¥åŒºåˆ†ä¸­æ–‡å’Œæ—¥æ–‡
  const hasHiragana = /[\u3040-\u309F]/.test(text); // å¹³å‡åï¼šãŒã€ã®ã€ã‚’ ç­‰
  const hasKatakana = /[\u30A0-\u30FF]/.test(text); // ç‰‡å‡å
  const hasJapaneseKana = hasHiragana || hasKatakana;
  
  // å¦‚æžœæœ‰æ—¥æ–‡å‡åï¼Œä¸åˆ¤å®šä¸ºä¸­æ–‡
  if (hasJapaneseKana) {
    return false;
  }
  
  // åŽŸæœ‰é€»è¾‘
  const isChinese = chineseRatio > 0.2 && englishRatio < 0.3;
  return isChinese;
}
```

**éªŒè¯**:
```
ja content: "å›³ä¸­ã®æ¨™è­˜ãŒå‰æ–¹å·¦æ›²ã‚’è¡¨ç¤ºã—ã¦ã„ã‚‹ã€‚"
- åŒ…å«å¹³å‡å: ãŒ (U+304C)
- hasHiragana: true
- åˆ¤å®šç»“æžœ: falseï¼ˆæ­£ç¡®è¯†åˆ«ä¸ºéžä¸­æ–‡ï¼‰
```

### é—®é¢˜ 3ï¼šzh explanation æ²¡æœ‰å…¥åº“ âš ï¸ AI æ¨¡åž‹é—®é¢˜

**æ ¹å›  1**: AI è¿”å›žé”™è¯¯çš„ `source` æ•°æ®

AI åº”è¯¥è¿”å›žï¼š
```json
{
  "source": {
    "language": "zh",  // âœ… åº”è¯¥æ˜¯ zh
    "content": "9. å›¾ä¸­æ ‡å¿—è¡¨ç¤ºå‰æ–¹å·¦è½¬å¼¯ã€‚",
    "explanation": "ä¸­æ–‡è§£é‡Š..."
  }
}
```

ä½†å®žé™…è¿”å›žï¼š
```json
{
  "source": {
    "language": "ja",  // âŒ é”™è¯¯ï¼åº”è¯¥æ˜¯ zh
    "content": "å›³ä¸­ã®æ¨™è­˜ãŒå‰æ–¹å·¦æ›²ã‚’è¡¨ç¤ºã—ã¦ã„ã‚‹ã€‚",  // âŒ æ—¥æ–‡å†…å®¹
    "explanation": "å›³ä¸­ã®æ¨™è­˜ã¯..."  // âŒ æ—¥æ–‡è§£é‡Š
  }
}
```

è¿™å¯¼è‡´ç³»ç»Ÿæ— æ³•ä½¿ç”¨ AI è¿”å›žçš„ `source.explanation` æ¥è¡¥å……æ•°æ®åº“ä¸­ç¼ºå¤±çš„ zh explanationï¼ˆåœ¨ `batchProcessUtils.ts` ç¬¬ 2176-2228 è¡Œæœ‰ç›¸å…³é€»è¾‘ï¼‰ã€‚

**æ ¹å›  2**: æºè¯­è¨€ç¿»è¯‘è¢«è·³è¿‡

åœ¨ `batchProcessUtils.ts` ç¬¬ 2418-2423 è¡Œï¼š

```typescript
// 2ï¼‰lang ä¸èƒ½ç­‰äºŽ sourceLanguageï¼ˆé˜²æ­¢æŠŠç¿»è¯‘å†™å›žæºè¯­è¨€ keyï¼‰
if (lang === sourceLanguage) {
  console.warn(
    `[processFullPipelineBatch] [Q${question.id}] âš ï¸ è¯­è¨€ ${lang} ä¸ºæºè¯­è¨€ï¼Œä¸åº”ä½œä¸ºç¿»è¯‘ä¿å­˜ï¼Œè·³è¿‡`,
  );
  continue;
}
```

AI åœ¨ `translations` ä¸­è¿”å›žäº† zh çš„ç¿»è¯‘ï¼š
```json
"zh": {
  "content": "å›¾ä¸­çš„æ ‡å¿—è¡¨ç¤ºå‰æ–¹å·¦è½¬ã€‚",
  "explanation": "å›¾ä¸­çš„æ ‡å¿—è¡¨æ˜Žè½¦è¾†åº”å‘å·¦ä¾§è½¬å¼¯ã€‚å› æ­¤ï¼Œé€‰æ‹©å‰æ–¹å·¦è½¬ã€‚"
}
```

ä½†ç”±äºŽ `sourceLanguage` æ˜¯ "zh"ï¼Œè¿™ä¸ª zh ç¿»è¯‘è¢«ç³»ç»Ÿæ­£ç¡®åœ°è·³è¿‡äº†ï¼ˆä¸åº”è¯¥ç”¨"ç¿»è¯‘"è¦†ç›–æºè¯­è¨€å†…å®¹ï¼‰ã€‚

**ä¸ºä»€ä¹ˆè¿™æ˜¯æ­£ç¡®çš„è¡Œä¸º**:
- full_pipeline çš„ç›®çš„æ˜¯ç¿»è¯‘æˆç›®æ ‡è¯­è¨€ï¼Œä¸åº”è¯¥ä¿®æ”¹æºè¯­è¨€å†…å®¹
- å¦‚æžœå…è®¸"ç¿»è¯‘"è¦†ç›–æºè¯­è¨€ï¼Œå¯èƒ½å¯¼è‡´æºå†…å®¹è¢« AI éšæ„ä¿®æ”¹ï¼ˆå¦‚ "9. å›¾ä¸­æ ‡å¿—è¡¨ç¤ºå‰æ–¹å·¦è½¬å¼¯ã€‚" â†’ "å›¾ä¸­çš„æ ‡å¿—è¡¨ç¤ºå‰æ–¹å·¦è½¬ã€‚"ï¼‰
- æºè¯­è¨€ explanation çš„è¡¥å……åº”è¯¥é€šè¿‡ `fill_missing` æ“ä½œï¼Œæˆ–è€…ä½¿ç”¨æ­£ç¡®çš„ `source.explanation`ï¼ˆå½“ `source.language` æ­£ç¡®æ—¶ï¼‰

**ä¸ºä»€ä¹ˆ zh explanation æœ€ç»ˆæ²¡æœ‰å…¥åº“**:
1. åŽŸæœ¬æ•°æ®åº“ä¸­æ²¡æœ‰ zh explanationï¼ˆ`explanation: null`ï¼‰
2. AI è¿”å›žçš„ `source.language` æ˜¯ "ja"ï¼ˆé”™è¯¯ï¼‰ï¼Œå¯¼è‡´ `source.explanation` æ˜¯æ—¥æ–‡
3. ç³»ç»Ÿæ£€æŸ¥åˆ° `source.explanation` ä¸æ˜¯ä¸­æ–‡ï¼Œæ‹’ç»ä½¿ç”¨
4. AI åœ¨ `translations.zh.explanation` ä¸­è¿”å›žäº†ä¸­æ–‡ explanationï¼Œä½†å› ä¸º `lang === sourceLanguage` è¢«è·³è¿‡
5. æœ€ç»ˆ zh explanation è¿˜æ˜¯ null

**ä¿®å¤æ–¹æ¡ˆ**: âš ï¸ å»ºè®®åˆ‡æ¢ AI æ¨¡åž‹

å½“å‰çš„ `qwen2.5:3b-instruct` æ¨¡åž‹å­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š
- æ— æ³•æ­£ç¡®è¯†åˆ«æºè¯­è¨€ï¼ˆè¿”å›ž `source.language = "ja"` è€Œä¸æ˜¯ "zh"ï¼‰
- è¿”å›žäº†ä¸åº”è¯¥è¿”å›žçš„æºè¯­è¨€ç¿»è¯‘ï¼ˆ`translations.zh`ï¼‰

**å»ºè®®**:
1. åˆ‡æ¢åˆ°æ›´å¼ºå¤§çš„æ¨¡åž‹ï¼ˆæŽ¨è `gpt-4o-mini`ï¼‰:
   ```sql
   UPDATE ai_config SET provider = 'render', model = 'gpt-4o-mini' WHERE id = 1;
   ```

2. æˆ–è€…ï¼Œå¦‚æžœè¦ä¿ç•™å½“å‰æ¨¡åž‹ï¼Œå¯ä»¥æ·»åŠ å®¹é”™é€»è¾‘æ¥ä¿®æ­£ AI çš„é”™è¯¯è¾“å‡ºï¼ˆä½†è¿™ä¼šå¢žåŠ å¤æ‚åº¦ï¼‰

3. ä½¿ç”¨ `fill_missing` æ“ä½œæ¥å•ç‹¬è¡¥å……ç¼ºå¤±çš„ zh explanation

---

## å››ã€ä¿®å¤æ€»ç»“

| é—®é¢˜ | çŠ¶æ€ | ä¿®å¤æ–¹å¼ |
|------|------|----------|
| è¯·æ±‚ä½“ä¸å®Œæ•´ | âœ… å·²ä¿®å¤ | ä¿®æ”¹ `aiRequestDebug` ä½¿ç”¨å®Œæ•´çš„ `input` å¯¹è±¡ |
| ja å†…å®¹æ²¡æœ‰å…¥åº“ | âœ… å·²ä¿®å¤ | æ”¹è¿› `isChineseContent` å‡½æ•°ï¼Œæ£€æµ‹æ—¥æ–‡å‡å |
| zh explanation æ²¡æœ‰å…¥åº“ | âš ï¸ AI æ¨¡åž‹é—®é¢˜ | å»ºè®®åˆ‡æ¢åˆ° gpt-4o-mini æˆ–ä½¿ç”¨ fill_missing |

---

## äº”ã€æµ‹è¯•éªŒè¯

### éªŒè¯æ­¥éª¤

1. **éªŒè¯è¯·æ±‚ä½“æ˜¾ç¤º**
   - é‡æ–°æ‰§è¡Œ full_pipeline ä»»åŠ¡
   - æŸ¥çœ‹ä»»åŠ¡è¯¦æƒ…é¡µçš„è¯·æ±‚ä½“
   - ç¡®è®¤åŒ…å«å®Œæ•´çš„ `question` å¯¹è±¡ï¼ˆåŒ…æ‹¬ promptï¼‰

2. **éªŒè¯ ja ç¿»è¯‘**
   - ä½¿ç”¨é¢˜ç›® 10 æˆ–å…¶ä»–ä¸­æ–‡é¢˜ç›®
   - æ‰§è¡Œ full_pipelineï¼Œç›®æ ‡è¯­è¨€åŒ…å« ja
   - ç¡®è®¤ ja å†…å®¹æˆåŠŸå…¥åº“

3. **éªŒè¯ AI æ¨¡åž‹åˆ‡æ¢**ï¼ˆå¯é€‰ï¼‰
   - åˆ‡æ¢åˆ° gpt-4o-mini
   - é‡æ–°æ‰§è¡Œ full_pipeline
   - ç¡®è®¤ `source.language` æ­£ç¡®è¿”å›ž "zh"
   - ç¡®è®¤ zh explanation æˆåŠŸè¡¥å……

### é¢„æœŸæ—¥å¿—è¾“å‡º

**ä¿®å¤å‰**ï¼ˆja è¢«è¯¯åˆ¤ï¼‰:
```
[processFullPipelineBatch] [Q10] âš ï¸ ç›®æ ‡è¯­è¨€ä¸º jaï¼Œä½†ç¿»è¯‘å†…å®¹æ˜¯ä¸­æ–‡ï¼Œè·³è¿‡
```

**ä¿®å¤åŽ**ï¼ˆja æ­£ç¡®è¯†åˆ«ï¼‰:
```
[isChineseContent] æ£€æµ‹åˆ°æ—¥æ–‡å‡åï¼ˆå¹³å‡å=true, ç‰‡å‡å=falseï¼‰ï¼Œä¸åˆ¤å®šä¸ºä¸­æ–‡
[processFullPipelineBatch] [Q10] [DEBUG] è¯­è¨€ ja ç¿»è¯‘æ ¡éªŒå®Œæˆ
```

---

## å…­ã€å»ºè®®çš„åŽç»­æ“ä½œ

### ç«‹å³æ“ä½œ

1. **æµ‹è¯•æ—¥æ–‡ç¿»è¯‘**
   ```
   é¢˜ç›® ID: 10ï¼ˆæˆ–å…¶ä»–ä¸­æ–‡é¢˜ç›®ï¼‰
   æ“ä½œ: full_pipeline
   æºè¯­è¨€: zh
   ç›®æ ‡è¯­è¨€: ja, en
   ```

2. **æŸ¥çœ‹å®Œæ•´è¯·æ±‚ä½“**
   - åœ¨ä»»åŠ¡è¯¦æƒ…é¡µæŸ¥çœ‹ "ðŸ“¤ AI è¯·æ±‚ä½“ï¼ˆå®Œæ•´ï¼‰"
   - ç¡®è®¤åŒ…å« `prompt` ç­‰å­—æ®µ

### å¯é€‰æ“ä½œ

1. **åˆ‡æ¢ AI æ¨¡åž‹**ï¼ˆæŽ¨èï¼‰
   ```sql
   UPDATE ai_config 
   SET provider = 'render', model = 'gpt-4o-mini' 
   WHERE id = 1;
   ```

2. **è¡¥å……ç¼ºå¤±çš„ explanation**
   - ä½¿ç”¨ `fill_missing` æ“ä½œ
   - æˆ–è€…åˆ‡æ¢æ¨¡åž‹åŽé‡æ–°æ‰§è¡Œ full_pipeline

---

## ä¸ƒã€ä»£ç ä¿®æ”¹æ¸…å•

| æ–‡ä»¶ | ä¿®æ”¹ä½ç½® | ä¿®æ”¹å†…å®¹ |
|------|----------|----------|
| `batchProcessUtils.ts` | ç¬¬ 2102-2122 è¡Œ | ä¿®æ”¹ `aiRequestDebug` ä½¿ç”¨å®Œæ•´çš„ `input` å¯¹è±¡ |
| `batchProcessUtils.ts` | ç¬¬ 296-322 è¡Œ | æ”¹è¿› `isChineseContent` å‡½æ•°ï¼Œæ£€æµ‹æ—¥æ–‡å‡å |

**æ‰§è¡ŒæŠ¥å‘Šç”Ÿæˆæ—¶é—´**: 2025-11-21  
**è¯Šæ–­çŠ¶æ€**: âœ… å·²è¯†åˆ«æ‰€æœ‰é—®é¢˜å¹¶æä¾›ä¿®å¤æ–¹æ¡ˆ  
**Linter çŠ¶æ€**: âœ… æ— é”™è¯¯  
**ç”¨æˆ·æ“ä½œ**: é‡æ–°æ‰§è¡Œä»»åŠ¡å¹¶éªŒè¯ä¿®å¤æ•ˆæžœ

